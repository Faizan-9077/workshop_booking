{% extends 'workshop_app/base.html' %}
{% load custom_filters %}
{% block title %}
	View List of available Workshops
{% endblock %}

{% block extra-dependencies %}
	{{ block.super }}
	{% load static %}
	<link rel="stylesheet" href="{% static 'workshop_app/css/workshop_type_list.css' %}">
{% endblock %}

{% block content %}
    <div class="container wtl-page">
    <div class="row align-items-center header-row">
        <div class="col">
            <h2 class="text-center text-md-start">Workshop Types</h2>
        </div>
        <div class="col-md-auto">
        {% if request.user|has_group:"instructor" %}
            <a href="{% url 'workshop_app:add_workshop_type' %}" class="btn btn-primary btn-add"><i class="fa fa-plus"></i> Add Workshop Type</a>
        {% endif %}
        </div>
    </div>

    <!-- Desktop table -->
    <div class="table-responsive d-none d-md-block">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Sr No</th>
              <th>Workshop Name</th>
              <th>Workshop Duration (Days)</th>
              <th>Action</th>
            </tr>
          </thead>

        {% for w in workshop_type %}
          <tbody>
            <tr>
              <td scope="row" id="{{ forloop.counter }}">{{ forloop.counter }}</td>
              <td>{{ w.name }}</td>
              <td>{{ w.duration }}</td>
              <td><a href="{% url 'workshop_app:workshop_type_details' w.id %}" class="btn btn-outline-info"><i class="fa fa-eye"></i> View Workshop Details</a></td>
            </tr>
          </tbody>
         {% endfor %}
        </table>
    </div>

    <!-- Mobile card list -->
    <div class="d-md-none">
        {% for w in workshop_type %}
        <div class="card mb-3 type-card">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <div class="label">Sr No.</div>
                        <div class="value">{{ forloop.counter }}</div>
                    </div>
                    <div class="text-end">
                        <div class="label">Duration (days)</div>
                        <div class="value">{{ w.duration }}</div>
                    </div>
                </div>
                <hr class="my-2"/>
                <div class="mb-2"><span class="label">Workshop:</span> <span class="value">{{ w.name }}</span></div>
                <a href="{% url 'workshop_app:workshop_type_details' w.id %}" class="btn btn-outline-info w-100"><i class="fa fa-eye"></i> View Workshop Details</a>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <!-- The Modal -->
    <div id="mailModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
		<span class="close">&times;</span>
		<p>Separate Multiple Email Id's using <strong> comma (,)</strong></p>
		<form action="{{URL_ROOT}}/share_details/" method="POST">
		  {% csrf_token %}
		    <label > Email: </label>
		    <input name="email" type='email' multiple>
		    <input type='submit'>
		</form>
    </div>
    </div>

<!-- Page Navigation -->
	<div class="container">

		<div class="Page-Nav" align="center">
		<nav aria-label="Page navigation">
		 	<ul class="pagination pagination-sm">
			  	<li class="page-item">
		      {% if workshoptype.has_previous %}
					<a class="page-link" tabindex="-1" 
							href="?page={{ workshop_type.previous_page_number }}">Previous</a>
				{% endif %}
			    </li>
			    <li class="page-item">
			    <span class="current">
				Page {{ workshop_type.number }} of {{ workshop_type.paginator.num_pages }}
					</span>
				</li>
			    <li class="page-item">
			    {% if workshop_type.has_next %}
					<a class="page-link" href="?page={{ workshop_type.next_page_number }}">Next
					</a>
				{% endif %}
			    </li>
		  	</ul>
		</nav>
		</div>
	</div>
</div>
{% endblock %}
