{% extends 'workshop_app/base.html' %}
{% load static %}

{% block title %} Register {% endblock %}

{% block extra-dependencies %}
<link rel="stylesheet" href="{% static 'workshop_app/css/register.css' %}" type="text/css"/>
{% endblock %}

{% block content %}
<div class="min-vh-100 d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-xl-7">
        <div class="card shadow-lg border-0 rounded-4" style="backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.95);">
          <div class="card-body p-4 p-md-5">
            
            <!-- Header -->
            <div class="text-center mb-4">
              <div class="mb-2">
                <i class="bi bi-person-plus" style="font-size: 2.5rem; color: #667eea;"></i>
              </div>
              <h3 class="fw-bold text-dark mb-1">Coordinator Registration</h3>
              <p class="text-muted small mb-0">Fill in your details to create an account</p>
            </div>

            <!-- Error Block -->
            {% if form.errors %}
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <i class="bi bi-exclamation-triangle me-2"></i>
                <strong>Please correct the errors below.</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endif %}

            <!-- Form -->
            <form action="" method="post" novalidate>
              {% csrf_token %}
              <div class="row g-3">
                
                <!-- Username -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Username</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-person text-muted ms-1"></i></span>
                    {{ form.username }}
                  </div>
                  <small class="text-muted">{{ form.username.help_text }}</small>
                  {{ form.username.errors }}
                </div>

                <!-- Email -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Email</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-envelope text-muted ms-1"></i></span>
                    {{ form.email }}
                  </div>
                  {{ form.email.errors }}
                </div>

                <!-- Password -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Password</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-lock text-muted ms-1"></i></span>
                    {{ form.password }}
                  </div>
                  {{ form.password.errors }}
                </div>

                <!-- Confirm Password -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Confirm Password</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-lock text-muted ms-1"></i></span>
                    {{ form.confirm_password }}
                  </div>
                  {{ form.confirm_password.errors }}
                </div>

                <!-- Title -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Title</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-person-badge text-muted ms-1"></i></span>
                    {{ form.title }}
                  </div>
                  {{ form.title.errors }}
                </div>

                <!-- First Name -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">First Name</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-person text-muted ms-1"></i></span>
                    {{ form.first_name }}
                  </div>
                  {{ form.first_name.errors }}
                </div>

                <!-- Last Name -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Last Name</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-person text-muted ms-1"></i></span>
                    {{ form.last_name }}
                  </div>
                  {{ form.last_name.errors }}
                </div>

                <!-- Phone Number -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Phone Number</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-telephone text-muted ms-1"></i></span>
                    {{ form.phone_number }}
                  </div>
                  {{ form.phone_number.errors }}
                </div>

                <!-- Institute -->
                <div class="col-md-12">
                  <label class="form-label fw-semibold">Institute</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-bank text-muted ms-1"></i></span>
                    {{ form.institute }}
                  </div>
                  <small class="text-muted">{{ form.institute.help_text }}</small>
                  {{ form.institute.errors }}
                </div>

                <!-- Department -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Department</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-building text-muted ms-1"></i></span>
                    {{ form.department }}
                  </div>
                  <small class="text-muted">{{ form.department.help_text }}</small>
                  {{ form.department.errors }}
                </div>

                <!-- Location -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Location</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-geo-alt text-muted ms-1"></i></span>
                    {{ form.location }}
                  </div>
                  {{ form.location.errors }}
                </div>

                <!-- State -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">State</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-flag text-muted ms-1"></i></span>
                    {{ form.state }}
                  </div>
                  {{ form.state.errors }}
                </div>

                <!-- How did you hear -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">How did you hear about us?</label>
                  <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="bi bi-question-circle text-muted ms-1"></i></span>
                    {{ form.how_did_you_hear_about_us }}
                  </div>
                  {{ form.how_did_you_hear_about_us.errors }}
                </div>
              </div>

              <!-- Submit -->
              <div class="text-center mt-4">
                <button class="btn btn-primary btn-lg w-100 fw-semibold" type="submit"
                  style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; padding: 12px;">
                  <i class="bi bi-check-circle me-2"></i>Register
                </button>
              </div>
            </form>

          </div>
        </div>

        <!-- Footer Note -->
        <div class="text-center mt-3">
          <p class="text-white-50 small">
            <i class="bi bi-shield-check me-1"></i> Secure registration powered by FOSSEE, IIT Bombay
          </p>
        </div>

      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block script %}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var formEl = document.querySelector('form');
    if (!formEl) return;
    Array.from(formEl.querySelectorAll('input, select, textarea')).forEach(function(el){
      if (['submit','button','hidden','checkbox','radio'].includes(el.type)) return;
      el.classList.add('form-control');
    });
  });
</script>
{% endblock %}
